diff --git a/src/audio/engine.c b/src/audio/engine.c
index 1c29e939d..1d1831577 100644
--- a/src/audio/engine.c
+++ b/src/audio/engine.c
@@ -1383,8 +1383,10 @@ engine_realloc_port_buffers (
             {
               if (pl->setting->open_with_carla)
                 {
+#ifdef HAVE_CARLA
                   carla_native_plugin_update_buffer_size_and_sample_rate (
                     pl->carla);
+#endif
                 }
               else if (
                 pl->setting->descr->protocol ==
