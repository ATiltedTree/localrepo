From 2a80cce55facda84167d979b14d400e2d9c168ca Mon Sep 17 00:00:00 2001
From: Tilmann Meyer <me@atiltedtree.dev>
Date: Wed, 9 Feb 2022 16:57:07 +0100
Subject: [PATCH 2/2] musl

---
 .../src/runtime.compatibility.json                     |  9 +++++++++
 .../Microsoft.NETCore.Platforms/src/runtime.json       | 10 +++++-----
 .../src/runtimeGroups.props                            |  2 +-
 3 files changed, 15 insertions(+), 6 deletions(-)

diff --git a/src/libraries/Microsoft.NETCore.Platforms/src/runtime.compatibility.json b/src/libraries/Microsoft.NETCore.Platforms/src/runtime.compatibility.json
index 7b64f0783e1..577b9f5f195 100644
--- a/src/libraries/Microsoft.NETCore.Platforms/src/runtime.compatibility.json
+++ b/src/libraries/Microsoft.NETCore.Platforms/src/runtime.compatibility.json
@@ -2991,6 +2991,7 @@
   ],
   "gentoo": [
     "gentoo",
+    "linux-musl",
     "linux",
     "unix",
     "any",
@@ -2999,6 +3000,8 @@
   "gentoo-arm": [
     "gentoo-arm",
     "gentoo",
+    "linux-musl-arm",
+    "linux-musl",
     "linux-arm",
     "linux",
     "unix-arm",
@@ -3009,6 +3012,8 @@
   "gentoo-arm64": [
     "gentoo-arm64",
     "gentoo",
+    "linux-musl-arm64",
+    "linux-musl",
     "linux-arm64",
     "linux",
     "unix-arm64",
@@ -3019,6 +3024,8 @@
   "gentoo-x64": [
     "gentoo-x64",
     "gentoo",
+    "linux-musl-x64",
+    "linux-musl",
     "linux-x64",
     "linux",
     "unix-x64",
@@ -3029,6 +3036,8 @@
   "gentoo-x86": [
     "gentoo-x86",
     "gentoo",
+    "linux-musl-x86",
+    "linux-musl",
     "linux-x86",
     "linux",
     "unix-x86",
diff --git a/src/libraries/Microsoft.NETCore.Platforms/src/runtime.json b/src/libraries/Microsoft.NETCore.Platforms/src/runtime.json
index 20950e7f39e..5887e0dda08 100644
--- a/src/libraries/Microsoft.NETCore.Platforms/src/runtime.json
+++ b/src/libraries/Microsoft.NETCore.Platforms/src/runtime.json
@@ -1169,31 +1169,31 @@
     },
     "gentoo": {
       "#import": [
-        "linux"
+        "linux-musl"
       ]
     },
     "gentoo-arm": {
       "#import": [
         "gentoo",
-        "linux-arm"
+        "linux-musl-arm"
       ]
     },
     "gentoo-arm64": {
       "#import": [
         "gentoo",
-        "linux-arm64"
+        "linux-musl-arm64"
       ]
     },
     "gentoo-x64": {
       "#import": [
         "gentoo",
-        "linux-x64"
+        "linux-musl-x64"
       ]
     },
     "gentoo-x86": {
       "#import": [
         "gentoo",
-        "linux-x86"
+        "linux-musl-x86"
       ]
     },
     "illumos": {
diff --git a/src/libraries/Microsoft.NETCore.Platforms/src/runtimeGroups.props b/src/libraries/Microsoft.NETCore.Platforms/src/runtimeGroups.props
index 6da522bc5a7..3d5160293f7 100644
--- a/src/libraries/Microsoft.NETCore.Platforms/src/runtimeGroups.props
+++ b/src/libraries/Microsoft.NETCore.Platforms/src/runtimeGroups.props
@@ -76,7 +76,7 @@
     </RuntimeGroup>
 
     <RuntimeGroup Include="gentoo">
-      <Parent>linux</Parent>
+      <Parent>linux-musl</Parent>
       <Architectures>x64;x86;arm;arm64</Architectures>
     </RuntimeGroup>
 
-- 
2.35.1

